<html><head><title>Side-by-side "line" plots of the posterior draws of parameters</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="Rchm.css">
</head>
<body>

<table width="100%"><tr><td>caterpillar(mcmctools)</td><td align="right">R Documentation</td></tr></table><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
<param name="keyword" value="R:   caterpillar">
<param name="keyword" value=" Side-by-side 'line' plots of the posterior draws of parameters">
</object>


<h2>Side-by-side 'line' plots of the posterior draws of parameters</h2>


<h3>Description</h3>

<p>
Plots a point for the mean of posterior simulations along with error bars associated with quantiles fo the posterior distribution.
</p>


<h3>Usage</h3>

<pre>
caterpillar(mcmcout, params, quantiles = list(), random, collapse=FALSE, plot.names="axis", xlim, col,...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>mcmcout</code></td>
<td>
a <code>matrix</code>, <code>bugs</code>, <code>mcmc</code>, or <code>mcmc.list</code> object.  All objects will be coerced to <code>mcmc.list</code>.</td></tr>
<tr valign="top"><td><code>params</code></td>
<td>
a character string that identifies which variables in the <code>mcmcout</code> should be plotted. If <code>NULL</code>, all parameter will be plotted.</td></tr>
<tr valign="top"><td><code>quantiles</code></td>
<td>
list with two elements <code>outer</code> and <code>inner</code>. The <code>outer</code> element of the list should contain the quantiles of the posterior draws that will be plotted as the longer, thinner line.  The <code>inner</code> element of the list should contain the quantiles of posterior draws that will be plotted as the shorter, thicker line.  If missing, the default is to use <code>list(outer=c(0.025,0.975),inner=c(0.16,0.84))</code>, which corresponds to 95% and 68% credible intervals.</td></tr>
<tr valign="top"><td><code>random</code></td>
<td>
integer specifying how many parameters from each group will be randomly selected for plotting.  This argument is useful when <code>mcmcout</code> has a large number of parameters (e.g., from a hierarchical model).  If <code>NULL</code>, all parameters will be plotted.</td></tr>
<tr valign="top"><td><code>collapse</code></td>
<td>
if <code>TRUE</code>, all parallel chains are collapsed into one chain before plotting. If <code>FALSE</code>, parallel chains are plotted nearly on top of each other with colors as specified in <code>col</code>.</td></tr>
<tr valign="top"><td><code>plot.names</code></td>
<td>
if 'axis,' then parameter names will be plotted on the axis.  If 'above,' then variable names will be plotted above the means for each 'caterpillar.' If any other value, no names will be plotted.</td></tr>
<tr valign="top"><td><code>xlim</code></td>
<td>
a vector containing the upper and lower limits for the x axis.  If missing, the minimum and maximum values found by <code>outer</code> quantiles are used.</td></tr>
<tr valign="top"><td><code>col</code></td>
<td>
a single value or a vector of values specifying the colors to be used in plotting.  If missing and only one parallel chain is contained in <code>mcmcout</code>, then the default is to use <code>col=1</code>. If multiple parallel chains are found in <code>mcmcout</code>, then the default is to use <code>col=seq(nchains) + 1</code>, where <code>nchains</code> is the number of parallel chains.</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
further arguments passed to the plotting function.</td></tr>
</table>

<h3>Details</h3>

<p>
The function the internal <span class="pkg">mcmctools</span> function <code>get.parnames.to.plot</code> to match the string <code>params</code> in the names of the variables in <code>mcmcout</code>.  Quantiles, as specified in the <code>quantiles</code> argument, are computed for the posterior draws of each variable that matches <code>params</code>.  The quantiles are then used to create plots of the posterior intervals of each matched variable. Medians are also plotted as points.
</p>
<p>
This function produces a plot similar to the plots produced by the <code>coefplot</code> function in the R package <span class="pkg">arm</span> and the caterpillar plots in the WinBUGS software.
</p>


<h3>Value</h3>

<p>
None.  Creates a plot.</p>

<h3>Note</h3>

<p>
No notes.
</p>


<h3>Author(s)</h3>

<p>
S. McKay Curtis
</p>


<h3>References</h3>

<p>
No references.
</p>


<h3>See Also</h3>

<p>
<code><a href="mcmcplot.html">mcmcplot</a></code>
</p>


<h3>Examples</h3>

<pre>
## Create fake MCMC output
nc &lt;- 10
nr &lt;- 1000
fakemcmc &lt;- lapply(1:3,function(i) matrix(rnorm(nc*nr),nrow=nr))
shift &lt;- matrix(rep(rpois(nc,20),nr),nrow=nr,byrow=TRUE)
fakemcmc &lt;- lapply(fakemcmc,function(x) x + shift)
for (i in seq(along=fakemcmc))
   dimnames(fakemcmc[[i]])[[2]] &lt;- c(paste("alpha[",1:5,"]",sep=""),paste("gamma[",1:5,"]",sep=""))
fakemcmc &lt;- as.mcmc.list(lapply(fakemcmc,mcmc))

## Not run: 
## Caterpillar plots of the fake MCMC output
par(mfrow=c(2,2))
caterpillar(fakemcmc, "alpha")
caterpillar(fakemcmc, "gamma")
caterpillar(fakemcmc, "alpha", collapse=T, plot.names="axis", col="blue")
caterpillar(fakemcmc, "gamma", collapse=T, plot.names="above", col="red")
## End(Not run)
</pre>



<hr><div align="center">[Package <em>mcmctools</em> version 1.0 <a href="00Index.html">Index</a>]</div>

</body></html>
